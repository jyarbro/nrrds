<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nrrds // a Generated Comic</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon.svg">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/comic-renderer.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <h1 class="app-title">🤓 nrrds // a generated comic</h1>
        </header>
        <main class="main-content active" id="homePage">
            <div class="comic-container" id="comicContainer">
                <div class="welcome-message">
                    <h2>Welcome to nrrds!</h2>
                    <p>Generated comics will appear here.</p>
                    <p>Your reactions help train nrrds AI to create better comics!</p>
                    <button class="control-btn primary-btn" id="generateBtn">
                        ✨ Generate Comic
                    </button>
                </div>
            </div>
        </main>

        <div class="nav-arrows">
            <button class="nav-btn nav-btn-prev" id="previousBtn" disabled>
                <span class="nav-arrow">◀</span>
                <span class="nav-label">BACK</span>
            </button>
            <button class="nav-btn nav-btn-generate" id="navGenerateBtn" style="display: none;">
                <span class="nav-sparkle">✨</span>
            </button>
            <button class="nav-btn nav-btn-next" id="nextBtn" disabled>
                <span class="nav-label">NEXT</span>
                <span class="nav-arrow">▶</span>
            </button>
        </div>

        <div class="feedback-section" id="feedbackSection" style="display: none;">
                <h3 class="feedback-title">What's your reaction?</h3>
                <div class="emoji-feedback-grid">
                    <button class="emoji-btn" data-feedback="thumbsup">
                        <span class="emoji">👍</span>
                        <span class="label">Thumbs Up</span>
                    </button>
                    <button class="emoji-btn" data-feedback="lol">
                        <span class="emoji">😂</span>
                        <span class="label">LOL</span>
                    </button>
                    <button class="emoji-btn" data-feedback="heartwarming">
                        <span class="emoji">🫶</span>
                        <span class="label">Heart‑warming</span>
                    </button>
                    <button class="emoji-btn" data-feedback="awesome">
                        <span class="emoji">🤩</span>
                        <span class="label">Awesome</span>
                    </button>
                    <button class="emoji-btn" data-feedback="inspired">
                        <span class="emoji">💡</span>
                        <span class="label">Inspired</span>
                    </button>
                    <button class="emoji-btn" data-feedback="unique">
                        <span class="emoji">🦄</span>
                        <span class="label">Unique</span>
                    </button>
                    <button class="emoji-btn" data-feedback="mindblown">
                        <span class="emoji">🤯</span>
                        <span class="label">Mind‑blown</span>
                    </button>
                    <button class="emoji-btn" data-feedback="confused">
                        <span class="emoji">😕</span>
                        <span class="label">Confused</span>
                    </button>
                    <button class="emoji-btn" data-feedback="meh">
                        <span class="emoji">😐</span>
                        <span class="label">Meh</span>
                    </button>
                    <button class="emoji-btn" data-feedback="sad">
                        <span class="emoji">😢</span>
                        <span class="label">Sad</span>
                    </button>
                    <button class="emoji-btn" data-feedback="spooked">
                        <span class="emoji">😱</span>
                        <span class="label">Spooked</span>
                    </button>
                    <button class="emoji-btn" data-feedback="grossedout">
                        <span class="emoji">🤢</span>
                        <span class="label">Grossed Out</span>
                    </button>
                    <button class="emoji-btn" data-feedback="cringe">
                        <span class="emoji">😬</span>
                        <span class="label">Cringe</span>
                    </button>
                    <button class="emoji-btn" data-feedback="angry">
                        <span class="emoji">😠</span>
                        <span class="label">Angry</span>
                    </button>
                    <button class="emoji-btn" data-feedback="offended">
                        <span class="emoji">🚫</span>
                        <span class="label">Offended</span>
                    </button>
                    <button class="emoji-btn" data-feedback="celebrating">
                        <span class="emoji">🥳</span>
                        <span class="label">Celebrating</span>
                    </button>
                    <button class="emoji-btn" data-feedback="deep">
                        <span class="emoji">🤔</span>
                        <span class="label">Deep</span>
                    </button>
                    <button class="emoji-btn" data-feedback="facepalm">
                        <span class="emoji">🤦</span>
                        <span class="label">Facepalm</span>
                    </button>
                    <button class="emoji-btn" data-feedback="eyeroll">
                        <span class="emoji">🙄</span>
                        <span class="label">Eye‑roll</span>
                    </button>
                    <button class="emoji-btn" data-feedback="skeptical">
                        <span class="emoji">🧐</span>
                        <span class="label">Skeptical</span>
                    </button>
                    <button class="emoji-btn" data-feedback="relatable">
                        <span class="emoji">🙋</span>
                        <span class="label">Relatable</span>
                    </button>
                </div>
                <div class="reaction-stats" id="feedbackStats"></div>
            </div>
        </main>

        <!-- Past Comics Page -->
        <div id="pastComicsPage" class="page past-comics-page">
            <div class="past-comics-container" id="pastComicsContainer">
                <div class="loading-message">Loading your past comics...</div>
            </div>
        </div>
    </div>

    <!-- Loading overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="magical-loader">
            <div class="transporter-square">
                <div class="scanning-line"></div>
            </div>
            <div class="sparkles">
                <div class="sparkle sparkle1">✨</div>
                <div class="sparkle sparkle2">⭐</div>
                <div class="sparkle sparkle3">💫</div>
                <div class="sparkle sparkle4">🌟</div>
                <div class="sparkle sparkle5">✨</div>
                <div class="sparkle sparkle6">⭐</div>
            </div>
            <div class="magic-wand">🪄</div>
        </div>
        <p class="loading-text">nrrds AI is generating your comic...</p>
    </div>

    <!-- Error modal -->
    <div class="error-modal" id="errorModal">
        <div class="error-content">
            <h3>Oops! Something went wrong with nrrds</h3>
            <p id="errorMessage"></p>
            <button class="control-btn" onclick="closeError()">Try Again</button>
        </div>
    </div>

    <!-- Include the function for error modal that's used inline -->
    <script>
        function closeError() {
            document.getElementById('errorModal').style.display = 'none';
        }
    </script>
    
    <!-- Main application script as a module -->
    <script type="module" src="src/app.js"></script>
</body>
</html>
